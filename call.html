<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Номер для звонка</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    a { font-size: 20px; color: blue; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <p>Клиент<br>
  Телефон: <a id="phone" href="#">Номер</a></p>

  <script>
    const params = new URLSearchParams(location.search);
    let raw = params.get("phone") || "";

    if (raw) {
      raw = raw.replace(/\D/g, "");
      if (raw.startsWith("8")) raw = "7" + raw.slice(1);
      if (!raw.startsWith("7")) raw = "7" + raw;

      const formatted = "+7 (" + raw.slice(1,4) + ") " +
                        raw.slice(4,7) + "-" +
                        raw.slice(7,9) + "-" +
                        raw.slice(9,11);

      const link = document.getElementById("phone");
      link.textContent = formatted;
      link.href = "tel:" + raw;
    } else {
      document.getElementById("phone").textContent = "Номер не найден";
      document.getElementById("phone").href = "#";
    }
  </script>
</body>
</html>
